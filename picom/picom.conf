# ======================
# 基本渲染设置
# ======================
backend = "glx";                # 使用GLX作为渲染后端（兼容性较好）
glx-no-stencil = true;          # 禁用模板缓冲（提升性能）
glx-no-rebind-pixmap = true;    # 避免重复绑定像素图（解决NVIDIA驱动问题）
use-damage = true;              # 启用损伤区域渲染（减少GPU负载）

# ======================
# 透明度和阴影效果
# ======================
# menu-opacity = 0.9;           # 菜单透明度（已注释）
inactive-opacity = 0.9;         # 非活动窗口透明度（90%）
active-opacity = 1.0;           # 活动窗口完全不透明
frame-opacity = 1.0;            # 窗口边框完全不透明
inactive-opacity-override = false; # 禁止强制覆盖非活动窗口透明度

# 阴影参数
shadow = true;                  # 启用窗口阴影
shadow-radius = 8;              # 阴影模糊半径（像素）
shadow-offset-x = -8;           # 阴影水平偏移（负值表示左偏移）
shadow-offset-y = -8;           # 阴影垂直偏移（负值表示上偏移）
shadow-opacity = 0.6;           # 阴影透明度（60%）
shadow-red = 0.0;               # 阴影红色分量（0表示黑色阴影）
shadow-green = 0.0;             # 阴影绿色分量
shadow-blue = 0.0;              # 阴影蓝色分量

# ======================
# 背景模糊设置
# ======================
blur-background = true;         # 启用背景模糊
blur-background-frame = true;   # 模糊窗口边框区域
blur-kern = "3x3box";           # 模糊核类型（3x3方框模糊）
blur-strength = 5;              # 模糊强度（值越大越模糊）

# ======================
# 窗口视觉效果
# ======================
# rounded-corners = true;         # 启用窗口圆角
# corner-radius = 6;              # 圆角半径（像素）
# detect-rounded-corners = true;  # 自动检测支持圆角的窗口

# ======================
# 淡入淡出动画
# ======================
fading = true;                  # 启用淡入淡出效果
fade-in-step = 0.03;            # 淡入步长（每帧透明度增量）
fade-out-step = 0.03;           # 淡出步长（每帧透明度减量）
fade-delta = 4;                 # 动画延迟时间（毫秒）

# ======================
# 特殊窗口类型处理规则
# ======================
wintypes:
{
    tooltip = { 
        fade = true;            # 工具提示启用淡入淡出
        shadow = true;          # 显示阴影
        opacity = 0.9;          # 固定透明度90%
    };
    dock = { 
        shadow = false;         # 停靠栏禁用阴影
    };
    dnd = { 
        shadow = false;         # 拖拽窗口禁用阴影
    };
    popup_menu = { 
        opacity = 0.9;          # 弹出菜单透明度90%
    };
    dropdown_menu = { 
        opacity = 0.9;          # 下拉菜单透明度90%
    };
};

# ======================
# 性能优化选项
# ======================
mark-wmwin-focused = true;      # 标记WM管理的窗口为聚焦状态
mark-ovredir-focused = true;    # 标记重定向窗口为聚焦状态
detect-client-opacity = true;   # 检测客户端自带的透明度设置
use-ewmh-active-win = true;     # 使用EWMH标准检测活动窗口
unredir-if-possible = true;     # 可能时取消重定向（提升全屏性能）
paint-on-overlay = true;        # 在叠加层上绘制（减少画面撕裂）

